{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,SACjCC,EAAgBH,EAAQE,cAAc,uBACtCE,EAAUJ,EAAQE,cAAc,sBAChCG,EAAYL,EAAQE,cAAc,wBAkDxC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCC,YAAW,W,OAAMJ,EAAQ,CAAEH,WAAUC,S,GAAUA,GAE/CM,YAAW,W,OAAMH,EAAO,CAAEJ,WAAUC,S,GAAUA,E,IA9BpDR,EAAQe,iBAAiB,UAAU,SAAAC,GACjCA,EAAEC,iBAKF,IAJA,IAAMC,EAAaf,EAAcgB,MAC3BC,EAAOhB,EAAQe,MACfE,EAAShB,EAAUc,MAEhBG,EAAI,EAAGA,EAAID,EAAQC,IAAK,CAE/BhB,EAAcgB,GADCJ,EAAaI,GAAKF,GAE9BG,MAAK,SAAAC,G,OACJC,EAAA3B,GAAS4B,OAAOC,QACd,oBAA8CC,OAA1BJ,EAAOjB,SAAW,EAAE,QAAmBqB,OAAbJ,EAAOhB,MAAM,O,IAG9DqB,OAAM,SAAAC,G,OACLL,EAAA3B,GAAS4B,OAAOK,QACd,kBAAuCH,OAArBE,EAAEvB,SAAW,EAAE,QAAcqB,OAARE,EAAEtB,MAAM,O,IAKvDR,EAAQgC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formRef = document.querySelector('.form');\nconst firstDelayRef = formRef.querySelector('input[name=\"delay\"]');\nconst stepRef = formRef.querySelector('input[name=\"step\"]');\nconst amountRef = formRef.querySelector('input[name=\"amount\"]');\n\n// formRef.addEventListener('submit', async e => {\n//   e.preventDefault();\n//   const firstDelay = firstDelayRef.value;\n//   const step = stepRef.value;\n//   const amount = amountRef.value;\n\n//   for (let i = 0; i < amount; i++) {\n//     try {\n//       const result = await createPromise(i, i === 0 ? firstDelay : step);\n//       Notiflix.Notify.success(\n//         `Fulfiled promise ${result.position + 1} in ${\n//           +firstDelay + result.position * +step\n//         } ms`\n//       );\n//     } catch (e) {\n//       Notiflix.Notify.failure(\n//         `Reject promise ${e.position + 1} in ${\n//           +firstDelay + e.position * +step\n//         } ms`\n//       );\n//     }\n//   }\n// });\n\nformRef.addEventListener('submit', e => {\n  e.preventDefault();\n  const firstDelay = firstDelayRef.value;\n  const step = stepRef.value;\n  const amount = amountRef.value;\n\n  for (let i = 0; i < amount; i++) {\n    const delay = +firstDelay + i * +step;\n    createPromise(i, delay)\n      .then(result =>\n        Notiflix.Notify.success(\n          `Fulfiled promise ${result.position + 1} in ${result.delay} ms`\n        )\n      )\n      .catch(e =>\n        Notiflix.Notify.failure(\n          `Reject promise ${e.position + 1} in ${e.delay} ms`\n        )\n      );\n  }\n\n  formRef.reset();\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      setTimeout(() => resolve({ position, delay }), delay);\n    } else {\n      setTimeout(() => reject({ position, delay }), delay);\n    }\n  });\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$firstDelayRef","$ce04d3a99e08e73b$var$stepRef","$ce04d3a99e08e73b$var$amountRef","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","Math","random","setTimeout","addEventListener","e1","preventDefault","firstDelay","value","step","amount","i","then","result","$parcel$interopDefault","Notify","success","concat","catch","e","failure","reset"],"version":3,"file":"03-promises.963e29fe.js.map"}